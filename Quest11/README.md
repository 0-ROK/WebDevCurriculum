# Quest 11. RDB의 기초와 ORM

## Introduction

- 이번 퀘스트에서는 데이터베이스를 다루는 방법에 대해 알아보겠습니다.

## Topics

- RDBMS
- MySQL
- ORM
- Hash
  - scrypt

## Resources

- [MySQL 101 – The basics](https://www.globo.tech/learning-center/mysql-101-basics/)
- [Sequelize](https://sequelize.org/)
- [안전한 패스워드 저장](https://d2.naver.com/helloworld/318732)

## Checklist

- RDBMS 테이블의 정규화는 무엇인가요?
  > RDBMS의 설계에서 중복을 최소화하도록 데이터를 구조화하는 것입니다.
- MySQL 외의 RDB에는 어떤 것들이 있나요?
  > 윈도우 기반의 MSSQL, IBM의 DB2, PostgreSQL MariaDB, Oracle Database 등이 있습니다.
  - Relational Database 외에 다른 DB에는 어떤 것들이 있을까요?
    > noSQL인 Redis, Cassandra, MongoDB 등과 TSDB(시계열 데이터 베이스)인 InfluxDB, Graphite, Prometheus 등이 있습니다.
- RDBMS에서 테이블의 인덱싱은 무엇인가요? 인덱싱을 하면 어떤 점이 다르며, 어떤 식으로 동작하나요?
  > 인덱스는 데이터베이스 테이블의 동작 속도를 높여주는 자료구조입니다. 특정 컬럼에 인덱스를 생성하면 해당 컬럼의 데이터들을 정렬하여 별도의 메모리 공간에 데이터의 물리적 주소와 함께 저장됩니다. 이렇게 인덱스가 생성되면 쿼리문에 인덱스 생성 컬럼을 Where 조건으로 거는 등의 작업을 할 때 옵티마이저에서 적절히 판단해 생성된 인덱스를 사용해 검색 속도를 높입니다.
- ORM을 사용하는 것은 사용하지 않는 것에 비해 어떤 장단점을 가지고 있나요?
  > ORM은 데이터베이스의 데이터와 프로그래밍 언어의 객체를 매핑하는 것입니다.
  >
  > - 객체 지향적인 코드로 더욱 직관적이고 비즈니스 로직에 집중할 수 있게 해주며 DBMS에 대한 종속성이 줄어든다는 장점이 있습니다.
  > - 그러나 완벽히 ORM으로만 서비스를 구현하기는 어렵습니다. 설계를 신중하게 해야 하며, DBMS 고유의 기능을 이용하기 어렵습니다. (이는 장점이기도 합니다.)
  - 자바스크립트 생태계의 ORM에는 어떤 것들이 있나요?
    > Sequalize, typeORM, Knex 등이 있습니다.
- 모델간의 1:1, 1:N, N:M 관계는 각각 무엇이고 어떨 때 사용하나요?
  > - 1 : 1 관계는 엔티티가 상대 엔티티와 단 하나의 관계를 가지는 것을 말합니다. (ex. 결혼)
  > - 1 : N 관계는 한 엔티티가 상대 엔티티를 여러 개 가질 수 있는 것을 말합니다. 예를 들어 한 사용자는 댓글을 여러 개 작성할 수 있습니다.
  > - N : M 관계는 양 쪽 엔티티 모두 여러 엔티티를 가질 수 있는 것을 말합니다. 예를 들어 학생들은 여러 과목을 수강할 수 있습니다.
- DB에 사용자의 암호를 평문으로 저장하지 않고도 사용자의 암호를 인증하는 것이 가능한 이유는 무엇일까요?
  > 해시 함수를 통해 암호화 하여 저장하며, 사용자를 인증할 때 입력받은 비밀번호를 해시 알고리즘을 통해 연산한 뒤, 결과값을 비교하여 인증하기 때문입니다.
  - 해시 함수에는 어떤 것이 있나요?
    > md4, md5, sha512 등이 있습니다.
  - 사용자의 암호를 해싱하여 저장할 때 어떤 식으로 저장하는 것이 보안에 좋을까요?
    > 비 가역적 단방향 암호화를 통해 비밀번호를 알아낼 수 없도록 저장해야 하며, 레인보우 테이블에서 해시값을 조회해 요청하는 것을 방지하기 위해, 비밀번호와 salt 값을 함께 넣어 해싱해야 합니다. 또 솔트와 함께 해싱된 비밀번호를 페퍼를 통해 보안 계층을 추가할 수 있습니다.

## Quest

- 이번에는 메모장을 파일이 아닌 DB기반으로 만들어 보고자 합니다.
  - 적절한 테이블을 설계해 보세요.
  - Sequelize를 이용하여 데이터의 모델을 만들고 어플리케이션에 적용해 보세요.
  - 사용자의 비밀번호는 해싱을 통해 저장되어야 합니다.

## Advanced

- Object–relational impedance mismatch란 어떤 개념인가요?
  >
- Foreign Key란 무엇인가요? 이것을 사용할 때의 장점과 단점은 무엇일까요?
  >
- 이전에 쓰이던 해시함수들에는 어떤 것이 있을까요? 패스워드 해싱의 추세의 역사는 어떻게 이어져왔나요?
  >
